// Data for Bell Schedules and Calendar
var data = { 
    "btn-MF" : [
        ["Period","Start","End","Duration","Passing"],        
        ["1st", " 7:40 am", " 8:28 am", "0:48", "0:08"],
        ["2nd", " 8:36 am", " 9:24 am", "0:48", "0:08"],
        ["3rd", " 9:32 am", "10:20 am", "0:48", "0:08"],
        ["4th", "10:28 am", "11:16 am", "0:48", "0:08"],
        ["5th", "11:24 am", "12:12 pm", "0:48", "0:08"],
        ["6th", "12:20 pm", " 1:08 pm", "0:48", "0:08"],
        ["7th", " 1:16 pm", " 2:04 pm", "0:48", "0:08"],
        ["8th", " 2:12 pm", " 3:00 pm", "0:48", " "],
        ["9th", " 3:00 pm", " 3:30 pm", "0:30", " "]],
    "btn-Wed" : [
        ["Period","Start","End","Duration","Passing"],
        ["1st", " 7:40 am", " 8:24 am", "0:44", "0:08"],
        ["2nd", " 8:32 am", " 9:16 am", "0:44", "0:08"],
        ["3rd", " 9:24 am", "10:08 am", "0:44", "0:08"],
        ["4th", "10:16 am", "11:00 am", "0:44", "0:08"],
        ["5th", "11:08 am", "11:52 am", "0:44", "0:08"],
        ["6th", "12:00 pm", "12:44 pm", "0:44", "0:08"],
        ["7th", "12:52 pm", " 1:36 pm", "0:44", "0:08"],
        ["8th", " 1:44 pm", " 2:28 pm", "0:44", " "]],
    "btn-classMass" : [
        ["Period","Start","End","Duration","Passing"],        
        ["1st", " 7:40 am", " 8:27 am", "0:47", "0:08"],
        ["2nd", " 8:35 am", " 9:22 am", "0:47", "0:08"],
        ["3rd", " 9:30 am", "10:17 am", "0:47", "0:08"],
        ["7th", "10:25 am", "11:12 am", "0:47", "0:08"],
        ["4th", "11:20 am", "12:07 pm", "0:47", "0:08"],
        ["5th", "12:15 pm", " 1:02 pm", "0:47", "0:08"],
        ["6th", " 1:10 pm", " 1:57 pm", "0:47", "0:08"],
        ["8th", " 2:05 pm", " 2:52 pm", "0:47", " "],
        ["9th", " 2:52 pm", " 3:30 pm", "0:38", " "]],
    "btn-allMass" : [
        ["Period","Start","End","Duration","Passing"],
        ["1st", " 7:40 am", " 8:16 am", "0:36", "0:08"],
        ["2nd", " 8:24 am", " 9:00 am", "0:36", "0:08"],
        ["3rd", " 9:08 am", " 9:45 am", "0:37", "0:15"],
        ["MASS","10:00 am", "11:15 am", "1:30", "1:15"],
        ["4th", "11:30 am", "12:04 pm", "0:34", "0:08"],
        ["5th", "12:12 pm", "12:46 pm", "0:34", "0:08"],
        ["6th", "12:54 pm", " 1:28 pm", "0:34", "0:08"],
        ["7th", " 1:36 pm", " 2:10 pm", "0:34", "0:08"],
        ["8th", " 2:18 pm", " 2:52 pm", "0:34", " "],
        ["9th", " 2:52 pm", " 3:30 pm", "0:38", " "]],
    "btn-allMassWed" : [
        ["Period","Start","End","Duration","Passing"],
        ["1st", " 7:40 am", " 8:17 am", "0:37", "0:08"],
        ["2nd", " 8:25 am", " 9:02 am", "0:37", "0:08"],
        ["3rd", " 9:10 am", " 9:45 am", "0:35", "0:15"],
        ["MASS", "10:00 am", "11:15 am", "1:15", "0:13"],
        ["4th", "11:28 am", "11:58 am", "0:30", "0:08"],
        ["5th", "12:06 pm", "12:36 pm", "0:30", "0:08"],
        ["6th", "12:44 pm", " 1:14 pm", "0:30", "0:08"],
        ["7th", " 1:22 pm", " 1:47 pm", "0:25", "0:08"],
        ["8th", " 1:55 pm", " 2:20 pm", "0:25", " "]],
    "btn-bless" : [
        ["Period","Start","End","Duration","Passing"],
        ["1st", " 7:40 am", " 8:27 am", "0:47", "0:18"],
        ["Bless", " 8:45 am", " 9:15 am", "0:30", "0:15"],
        ["2nd", " 9:30 am", "10:10 am", "0:40", "0:08"],
        ["3rd", "10:18 am", "10:57 am", "0:39", "0:08"],
        ["4th", "11:05 am", "11:44 am", "0:39", "0:08"],
        ["5th", "11:52 am", "12:31 pm", "0:39", "0:08"],
        ["6th", "12:39 pm", " 1:18 pm", "0:39", "0:08"],
        ["7th", " 1:26 pm", " 2:05 pm", "0:39", "0:08"],
        ["8th", " 2:13 pm", " 2:52 pm", "0:39", " "],
        ["9th", " 2:52 pm", " 3:30 pm", "0:38", " "]],
    "btn-blessWed" : [
        ["Period","Start","End","Duration","Passing"],
        ["1st", " 7:40 am", " 8:15 am", "0:35", "0:15"],
        ["Bless", " 8:30 am", " 9:00 am", "0:30", "0:15"],
        ["2nd", " 9:15 am", " 9:52 am", "0:37", "0:08"],
        ["3rd", "10:00 am", "10:37 am", "0:37", "0:08"],
        ["4th", "10:45 am", "11:22 am", "0:37", "0:08"],
        ["5th", "11:30 am", "12:07 pm", "0:37", "0:08"],
        ["6th", "12:15 pm", "12:52 pm", "0:37", "0:08"],
        ["7th", " 1:00 pm", " 1:37 pm", "0:37", "0:08"],
        ["8th", " 1:45 pm", " 2:22 pm", "0:37", " "]],
    "btn-noon" : [
        ["Period","Start","End","Duration","Passing"],
        ["1st", " 7:40 am", " 8:05 am", "0:25", "0:08"],
        ["2nd", " 8:13 am", " 8:38 am", "0:25", "0:08"],
        ["3rd", " 8:46 am", " 9:11 am", "0:25", "0:08"],
        ["4th", " 9:19 am", " 9:45 am", "0:26", "0:08"],
        ["5th", " 9:53 am", "10:19 am", "0:26", "0:08"],
        ["6th", "10:27 am", "10:53 am", "0:26", "0:08"],
        ["7th", "11:01 am", "11:26 am", "0:25", "0:08"],
        ["8th", "11:34 am", "12:00 pm", "0:26", " "]],
    "btn-assembly" : [
        ["Period","Start","End","Duration","Passing"],
        ["1st", " 7:40 am", " 8:27 am", "0:47", "0:13"],
        ["Assembly", " 8:40 am", " 9:25 am", "0:45", "0:13"],
        ["2nd", " 9:38 am", "10:16 am", "0:38", "0:08"],
        ["3rd", "10:24 am", "11:02 am", "0:38", "0:08"],
        ["4th", "11:10 am", "11:48 am", "0:38", "0:08"],
        ["5th", "11:56 am", "12:34 pm", "0:38", "0:08"],
        ["6th", "12:42 pm", " 1:20 pm", "0:38", "0:08"],
        ["7th", " 1:28 pm", " 2:06 pm", "0:38", "0:08"],
        ["8th", " 2:14 pm", " 2:52 pm", "0:38", " "],
        ["9th", " 2:52 pm", " 3:30 pm", "0:38", " "]],
    "btn-pep" : [
        ["Period","Start","End","Duration","Passing"],
        ["1st", " 7:40 am", " 8:20 am", "0:40", "0:08"],
        ["2nd", " 8:28 am", " 9:08 am", "0:40", "0:08"],
        ["3rd", " 9:16 am", " 9:56 am", "0:40", "0:08"],
        ["7th", "10:04 am", "10:44 am", "0:40", "0:08"],
        ["4th", "10:52 am", "11:32 am", "0:40", "0:08"],
        ["5th", "11:40 am", "12:20 pm", "0:40", "0:08"],
        ["6th", "12:28 pm", " 1:08 pm", "0:40", "0:08"],
        ["8th", " 1:16 pm", " 1:56 pm", "0:40", "0:14"],
        ["Pep", " 2:10 pm", " 2:52 pm", "0:42", " "],
        ["9th", " 2:52 pm", " 3:30 pm", "0:38", " "]],
    "btn-speaker" : [
        ["Period","Start","End","Duration","Passing"],
        ["1st", " 7:40 am", " 8:10 am", "0:30", "0:08"],
        ["2nd", " 8:18 am", " 8:48 am", "0:30", "0:17"],
        ["Speaker", " 9:05 am", "10:05 am", "1:00", "0:15"],
        ["3rd","10:20 am", "10:59 am", "0:39", "0:08"],
        ["4th", "11:07 am", "11:46 am", "0:39", "0:08"],
        ["5th", "11:54 am", "12:33 pm", "0:39", "0:08"],
        ["6th", "12:41 pm", " 1:20 pm", "0:39", "0:08"],
        ["7th", " 1:28 pm", " 2:06 pm", "0:38", "0:08"],
        ["8th", " 2:14 pm", " 2:52 pm", "0:38", " "],
        ["9th", " 2:52 pm", " 3:30 pm", "0:38", " "]],
    "btn-speakerWed" : [
        ["Period","Start","End","Duration","Passing"],
        ["1st", " 7:40 am", " 8:10 am", "0:30", "0:08"],
        ["2nd", " 8:18 am", " 8:48 am", "0:30", "0:17"],
        ["Speaker", " 9:05 am", "10:05 am", "1:00", "0:15"],
        ["3rd", "10:20 am", "10:54 am", "0:34", "0:08"],
        ["4th", "11:02 am", "11:36 am", "0:34", "0:08"],
        ["5th", "11:44 am", "12:18 pm", "0:34", "0:08"],
        ["6th", "12:26 pm", " 1:00 pm", "0:34", "0:08"],
        ["7th", " 1:08 pm", " 1:41 pm", "0:33", "0:08"],
        ["8th", " 1:45 pm", " 2:22 pm", "0:33", " "]],
    "btn-Exams" : [
        ["Period","Start","End","Duration","Passing"],        
        ["Arrive", " 7:30 am", " 7:55 am", "0:15", "0:05"],
        ["Exam 1", " 8:00 am", " 9:30 am", "1:30", "0:30"],
        ["Exam 2", "10:00 am", "11:30 am", "1:30", "0:01"],
        ["Dismiss", "11:31 am", " 3:30 pm", "4:00", "0:00"]],
    "btn-custom1" : [
        ["Period","Start","End","Duration","Passing"],        
        ["1st", " 7:40 am", " 8:27 am", "0:47", "0:08"],
        ["2nd", " 8:35 am", " 9:22 am", "0:47", "0:08"],
        ["3rd", " 9:30 am", "10:17 am", "0:47", "0:08"],
        ["4th", "10:25 am", "11:12 am", "0:47", "0:08"],
        ["5th", "11:20 am", "12:07 pm", "0:47", "0:08"],
        ["6th", "12:15 pm", " 1:02 pm", "0:47", "0:08"],
        ["7th", " 1:10 pm", " 1:57 pm", "0:47", "0:08"],
        ["8th", " 2:05 pm", " 2:52 pm", "0:47", " "],
        ["9th", " 2:52 pm", " 3:30 pm", "0:38", " "]],
    "btn-Cal" : [
        ["Date","Day","Event"],
        ["2024-2025", "BMCHS", "<a href='https://bishopmoore.gofmx.com/calendar' target='_blank'>FMX Calendar</a>"],
        ["11/04/2024", "Monday", "New bell schedules in effect"],
        ["11/06/2024", "Wednesday", "Faculty Meeting 2:30pm"],
        ["11/08/2024", "Friday", "Junior Retreat Day (by Religion Class)"],
        ["11/11/2024", "Monday", "Junior Retreat Day (by Religion Class)"],
        ["11/13/2024", "Wednesday", "National Signing Day 1st and 2nd Periods<br>Teacher Individual PD"],
        ["11/14/2024", "Thursday", "TYPA Accreditation Visit"],
        ["11/15/2024", "Friday", "Progress Reports Out"],
        ["11/16/2024 - 11/23/2024", "Saturday - Friday", "Mission Trip to the Dominican Republic"],
        ["11/20/2024", "Wednesday", "Department PLC<br>Faculty Lunch<br>Midterm Exams Due to Department Chair"],
        ["11/21/2024", "Thursday", "Lunch n Learn (Mailroom)"],
        ["11/22/2024", "Friday", "BMC Fan Friday"],
        ["11/25/2024 - 11/29/2024", "Monday - Friday", "NO SCHOOL (Thanksgiving Break)"],
        ["12/02/2024", "Monday", "Advent Wreath Blessing and Christmass Concert"],
        ["12/04/2024", "Wednesday", "Faculty Meeting"],
        ["12/09/2024", "Thursday", "Our Lady of Guadalupe All School Mass"],
        ["12/11/2024", "Wednesday", "Teacher Individual PD<br>Last day for Assessments"],
        ["12/17/2024", "Tuesday", "Semester Exams:<br>Period 1: 8:00am - 9:30am<br>Period 2: 10:00am - 11:30am"],
        ["12/18/2024", "Wednesday", "Semester Exams:<br>Period 3: 8:00am - 9:30am<br>Period 4: 10:00am - 11:30am"],
        ["12/19/2024", "Thursday", "Semester Exams:<br>Period 7: 8:00am - 9:30am<br>Period 5: 10:00am - 11:30am"],
        ["12/20/2024", "Friday", "Semester Exams:<br>Period 8: 8:00am - 9:30am<br>Period 6: 10:00am - 11:30am<br>End of Quarter 2 - End of Semester 1"],
        ["12/23/2024 - 01/03/2025", "Monday - Friday", "NO SCHOOL (Christmas Break)"],
        ["01/06/2025", "Monday", "Start of 2nd Semester"],
        ["01/18/2025", "Saturday", "Ave Maria Trip"],
        ["01/20/2025", "Monday", "NO SCHOOL (Martin Luther King Jr. Day)"],
        ["01/27/2025 - 01/31/2025", "Monday - Friday", "Catholic Schools Week"],
        ["02/13/2025", "Thursday", "Sophomore Class Mass"],
        ["02/17/2025", "Monday", "President's Day"],
        ["02/20/2025", "Thursday", "Freshman Class Mass"],
        ["02/24/2025", "Monday", "Sophomore Retreat"],
        ["02/25/2025", "Tuesday", "Sophomore Retreat"],
        ["03/03/2025", "Monday", "Pre-Act Freshman Testing"],
        ["03/04/2025", "Tuesday", "Pre-Act Freshman Testing"],
        ["03/05/2025", "Wednesday", "Ash Wednesday"],
        ["03/06/2025", "Thursday", "Pre-Act Sophomore Testing"],
        ["03/07/2025", "Friday", "Pre-Act Sophomore Testing<br>End of 3rd Quarter"],
        ["03/11/2025", "Tuesday", "Act Junior Testing"],
        ["03/12/2025", "Wednesday", "Act Junior Testing"],
        ["03/14/2025", "Friday", "3rd Quarter End"],
        ["03/17/2025 - 03/21/2025", "Monday - Friday", "NO SCHOOL (Spring Break)"],
        ["04/04/2025", "Friday", "Senior Retreat"],
        ["04/10/2025", "Thursday", "Junior Class Mass"],
        ["04/11/2025", "Friday", "Pep Rally"],
        ["04/17/2025 - 04/18/2025", "Thursday - Friday", "NO SCHOOL (Easter Break)"],
        ["04/21/2025 - 04/25/2025", "Monday - Friday", "NO SCHOOL (NCEA Conference)"],
        ["04/30/2025", "Wednesday", "AP Computer Science Principles students to submit their Create performance task as final by 11:59pm"],
        ["05/05/2025", "Monday", "AP Testing<br>8am - Biology / Latin<br>12pm - European History / Microeconomics"],
        ["05/06/2025", "Tuesday", "AP Testing<br>8am - Chemistry / Human Geography<br>12pm - United States Government and Politics"],
        ["05/07/2025", "Wednesday", "AP Testing<br>8am - English Literature and Composition<br>12pm - Comparative Government and Politics / Computer Science A"],
        ["05/08/2025", "Thursday", "AP Testing<br>8am - Statistics<br>12pm - World History: Modern"],
        ["05/09/2025", "Friday", "AP Testing<br>8am - United States History<br>12pm - Macroeconomics"],
        ["05/09/2025", "Friday", "Deadline for AP Art and Design students to submit their three portfolio components 8pm EST"],
        ["05/12/2025", "Monday", "AP Testing<br>8am - Calculus AB / Calculus BC<br>12pm - Music Theory"],
        ["05/13/2025", "Tuesday", "AP Testing<br>8am - French Language and Culture / Precalculus<br>12pm - Environmental Science / Physics 2: Algebra-Based"],
        ["05/14/2025", "Wednesday", "AP Testing<br>8am - English Language and Composition<br>12pm - Physics C: Mechanics"],
        ["05/15/2025", "Thursday", "AP Testing<br>8am - Art History / Spanish Language and Culture<br>12pm - Computer Science Principles / Physics C: Electricity and Magnetism"],
        ["05/16/2025", "Friday", "AP Testing<br>8am - Physics 1 Algebra-Based / Spanish Literature and Culture<br>12pm - Psychology / Latin"],
        ["05/26/2025", "Monday", "NO SCHOOL (Memorial Day)"],
        ["05/27/2025", "Tuesday", "Semester Exams:<br>Period 1: 8:00am - 9:30am<br>Period 2: 10:00am - 11:30am"],
        ["05/28/2025", "Wednesday", "Semester Exams:<br>Period 3: 8:00am - 9:30am<br>Period 4: 10:00am - 11:30am"],
        ["05/29/2025", "Thursday", "Semester Exams:<br>Period 7: 8:00am - 9:30am<br>Period 5: 10:00am - 11:30am"],
        ["05/30/2025", "Friday", "Semester Exams:<br>Period 8: 8:00am - 9:30am<br>Period 6: 10:00am - 11:30am<br>End of Semester<br>Grades Due"],
        ["05/30/2025", "Friday", "Last Day of School<br>End of 4th Quarter"],
        ["**********", "*****", "*********************************"],
        ["***OLDER**", "*OLD*", "**********OLDER EVENTS***********"],
        ["**********", "*****", "*********************************"],
        ["08/02/2024", "Friday", "Transfer Orientation"],
        ["08/06/2024", "Tuesday", "Faculty Retreat"],
        ["08/07/2024", "Wednesday", "Freshman Orientation"],
        ["08/08/2024", "Thursday", "Diocesan Kick-Off at Holy Family"],
        ["08/09/2024", "Friday", "Faculty/Staff Portraits"],
        ["08/12/2024", "Monday", "First Day of School<br>Back to School Blessing 8:45am-9:30am Gym<br>Senior Assembly 1:45pm-2:45pm Gym"],
        ["08/13/2024", "Tuesday", "Freshmen, Sophomore, and Junior 2024-2025 Yearbook Picture Day - English Class"],
        ["08/15/2024", "Thursday", "Feast of The Assumption Bishop Mass 10am-11am Gym<br>Senior Parent Night 6pm-8pm Gym"],
        ["08/16/2024", "Friday", "Fire Drills<br>1st Period: BD, Dome, MC<br>2nd Period: BB, BG, Cafe<br>3rd Period: LO, MM, Gym<br>Fall Pep Rally 1:45pm-2:45pm Gym"],
        ["08/22/2024", "Thursday", "Back to School Night 5:30pm-7:45pm"],
        ["08/29/2024", "Thursday", "Senior Class Mass 9:45am-10:45am"],
        ["08/30/2024", "Friday", "Dress down day"],
        ["09/02/2024", "Monday", "NO SCHOOL (Labor Day)"],
        ["09/05/2024", "Thursday", "Freshman Parent Night 6pm-8pm<br>Mission Trip Parent Night"],
        ["09/12/2024", "Wednesday", "Walking Together - Student Success"],
        ["09/12/2024", "Thursday", "Freshman Class Mass 9:45am-10:45am (in FMX)<br>Junior Parent Night 6pm-8pm"],
        ["09/13/2024", "Friday", "Progress Reports Out"],
        ["09/16/2024", "Monday", "Fire Drills<br>1st Period: BB, BG, Cafe<br>2nd Period: LO, MM, Gym<br>3rd Period: BD, Dome, MC<br>7th Period: Lockdown and Lockout"],
        ["09/19/2024", "Thursday", "Sophomore Class Mass 9:45am-10:45am<br>Sophomore Parent Night 6pm-8pm"],
        ["09/26/2024", "Thursday", "NO SCHOOL - Hurricane Helene"],
        ["10/01/2024", "Tuesday", "STEM Night Openhouse 6pm-8pm"],
        ["10/02/2024", "Wednesday", "Lockout Drill<br>Faculty Meeting 2:30pm"],
        ["10/03/2024", "Thursday", "Sophomore PSAT Testing<br>Junior Class Mass 9:45am-10:45am"],
        ["10/04/2024", "Friday", "Sophomore PSAT Testing"],
        ["10/07/2024", "Monday", "Junior PSAT Testing"],
        ["10/08/2024", "Tuesday", "Junior PSAT Testing"],
        ["10/09/2024", "Wednesday", "No School - Hurricane Milton"],
        ["10/10/2024", "Thursday", "No School - Hurricane Milton"],
        ["10/11/2024", "Friday", "NO School - Teacher PD Day"],
        ["10/14/2024", "Monday", "Freshman PSAT A-L"],
        ["10/15/2024", "Tuesday", "Freshman PSAT M-Z<br>Report Cards Due"],
        ["10/16/2024", "Wednesday", "PSAT MakeUp Day<br>Department PLC"],
        ["10/18/2024", "Friday", "Pep Rally"],
        ["10/19/2024", "Saturday", "Homecoming Dance 7pm-11pm"],
        ["10/22/2024", "Tuesday", "Partner School Visits"],
        ["10/23/2024", "Wednesday", "Teacher Common-Course PLC"],
        ["10/24/2024", "Thursday", "Partner School Visits"],
        ["10/25/2024", "Friday", "Freshman Retreat (Girls)"],
        ["10/27/2024", "Sunday", "Open House 1pm-3pm"],
        ["10/28/2024", "Monday", "Freshman Retreat (Boys)"],
        ["10/30/2024", "Wednesday", "Teacher Individual PD<br>Walking Together"],
        ["10/31/2024", "Thursday", "Seniors attending MacBeth Performance"],
        ["11/01/2024", "Friday", "All Saints Day Mass 10am-11:15am"],
    ]                
}

// Global State Variable to know if Calendar is being shown
//     Need to disable period highlighting
currentButton = "";

// Respond to topnav menu button clicked 
function navClick(btnClicked) {
    // Change active button to button clicked
    activeButtons = document.getElementsByClassName("active");
    activeButtons[0].classList.remove("active"); //Only 1 item should be returned
    document.getElementById(btnClicked).classList.add("active");
    
    // Build table corresponding to button id clicked
    currentButton = btnClicked;
    buildTable(data[btnClicked]);
    updateScreen();
    setInterval(updateScreen, 1000);
}

// Generic build table from data array
function buildTable(tableArr) {
    // Remove existing schedule
    schedule = document.getElementById("schedule");
    schedule.innerHTML = "";
    const [headings, ...rows] = tableArr;
    tableString = '<table id="schedTable"><thead>';
    for (let header of headings) {
        tableString += "<th>" + header + "</th>";
    }
    tableString += "</thead><tbody>"

    for (let aRow of rows) {
        tableString += "<tr>";
        for (let cell of aRow) {
            tableString += "<td>" + cell + "</td>";
        }
        tableString += "</tr>";
    }
    tableString += "</tbody></table>";
    schedule.innerHTML = tableString;
}

// Helper function for updateScreen()
function getDate(timeStr) {
    timeStr = timeStr.trim();
    let now = new Date();
    let hr = parseInt(timeStr.split(":")[0]);
    let mi = parseInt((timeStr.split(":")[1]).split(" ")[0]);
    let meridiem = timeStr.split(" ")[1];
    if (meridiem == "pm" && hr < 12) {
        hr = hr + 12;
    } 
    now.setHours(hr, mi, 0, 0);
    return now;
}

// Updates Screen every second for clock and highlighting the period
function updateScreen() {
    // Get current time - need seconds
    let now = new Date();

    // Update Clock
    const timeDiv = document.getElementById("time");
    const dateString = now.toLocaleString('en-US');
    timeDiv.innerHTML = "<h2>" + dateString + "</h2>";

    if (currentButton == "btn-Cal")
        return;
        
    // Get table to highlight current period
    let table = document.getElementById("schedTable");

    // Clear prior highlighted period
    for (const e of document.getElementsByClassName("highlighted")) {
        e.classList.remove('highlighted');
     }

    // Highlight Current Period
    for (var r = 1, n = table.rows.length; r < n; r++) {
        let startStr = table.rows[r].cells[1].innerHTML;
        let startTime = getDate(startStr)
        let endStr = table.rows[r].cells[2].innerHTML;
        let endTime = getDate(endStr);
        // console.log(startTime, now, endTime);
        if (startTime <= now && now <= endTime) {
            // console.log("Row:", r);
            table.rows[r].cells[0].classList.add('highlighted');
            table.rows[r].cells[1].classList.add('highlighted');
            table.rows[r].cells[2].classList.add('highlighted');
            table.rows[r].cells[3].classList.add('highlighted');
            table.rows[r].cells[4].classList.remove('highlighted');
        }
    }
    // Highlight if in passing between periods
    for (var r = 1, n = table.rows.length; r < n-1; r++) {
        let startStr = table.rows[r].cells[2].innerHTML;
        let startTime = getDate(startStr)
        let endStr = table.rows[r+1].cells[1].innerHTML;
        let endTime = getDate(endStr);
        // console.log(startTime, now, endTime);
        if (startTime <= now && now <= endTime) {
            // console.log("Row:", r);
            table.rows[r].cells[0].classList.remove('highlighted');
            table.rows[r].cells[1].classList.remove('highlighted');
            table.rows[r].cells[2].classList.remove('highlighted');
            table.rows[r].cells[3].classList.remove('highlighted');
            table.rows[r].cells[4].classList.add('highlighted');
        }
    }
}

// Determine default button on startup
let day = new Date();

if (day.toLocaleDateString('en-Us') == "8/12/2024")
    document.getElementById("btn-bless").click();
else if (day.toLocaleDateString('en-Us') == "11/1/2024")
    document.getElementById("btn-allMass").click();
else if (day.toLocaleDateString('en-Us') == "12/2/2024")
    document.getElementById("btn-bless").click();
else if (day.toLocaleDateString('en-Us') == "12/9/2024")
    document.getElementById("btn-allMass").click();
else if (day.toLocaleDateString('en-Us') == "12/17/2024")
    document.getElementById("btn-Exams").click();
else if (day.toLocaleDateString('en-Us') == "12/18/2024")
    document.getElementById("btn-Exams").click();
else if (day.toLocaleDateString('en-Us') == "12/19/2024")
    document.getElementById("btn-Exams").click();
else if (day.toLocaleDateString('en-Us') == "12/20/2024")
    document.getElementById("btn-Exams").click();
else if (day.getDay() == 3)
    document.getElementById("btn-Wed").click();
else
    document.getElementById("btn-MF").click();
