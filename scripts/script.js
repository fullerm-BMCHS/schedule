// Data for Bell Schedules and Calendar
var data = { 
    "btn-MF" : [
        ["Period","Start","End","Duration","Passing"],        
        ["1st", " 7:40 am", " 8:28 am", "0:48", "0:08"],
        ["2nd", " 8:36 am", " 9:24 am", "0:48", "0:08"],
        ["3rd", " 9:32 am", "10:20 am", "0:48", "0:08"],
        ["4th", "10:28 am", "11:16 am", "0:48", "0:08"],
        ["5th", "11:24 am", "12:12 pm", "0:48", "0:08"],
        ["6th", "12:20 pm", " 1:08 pm", "0:48", "0:08"],
        ["7th", " 1:16 pm", " 2:04 pm", "0:48", "0:08"],
        ["8th", " 2:12 pm", " 3:00 pm", "0:48", "0:01"],
        ["9th", " 3:01 pm", " 3:30 pm", "0:30", " "]],
    "btn-Wed" : [
        ["Period","Start","End","Duration","Passing"],
        ["1st", " 7:40 am", " 8:24 am", "0:44", "0:08"],
        ["2nd", " 8:32 am", " 9:16 am", "0:44", "0:08"],
        ["3rd", " 9:24 am", "10:08 am", "0:44", "0:08"],
        ["4th", "10:16 am", "11:00 am", "0:44", "0:08"],
        ["5th", "11:08 am", "11:52 am", "0:44", "0:08"],
        ["6th", "12:00 pm", "12:44 pm", "0:44", "0:08"],
        ["7th", "12:52 pm", " 1:36 pm", "0:44", "0:08"],
        ["8th", " 1:44 pm", " 2:28 pm", "0:44", " "]],
    "btn-classMass" : [
        ["Period","Start","End","Duration","Passing"],        
        ["1st", " 7:40 am", " 8:28 am", "0:48", "0:08"],
        ["2nd", " 8:35 am", " 9:24 am", "0:48", "0:08"],
        ["3rd", " 9:32 am", "10:20 am", "0:48", "0:08"],
        ["7th", "10:28 am", "11:16 am", "0:48", "0:08"],
        ["4th", "11:24 am", "12:12 pm", "0:48", "0:08"],
        ["5th", "12:20 pm", " 1:08 pm", "0:48", "0:08"],
        ["6th", " 1:16 pm", " 2:04 pm", "0:48", "0:08"],
        ["8th", " 2:12 pm", " 3:00 pm", "0:48", "0:05"],
        ["9th", " 3:05 pm", " 3:38 pm", "0:38", " "]],
    "btn-allMass" : [
        ["Period","Start","End","Duration","Passing"],
        ["1st", " 7:40 am", " 8:16 am", "0:36", "0:08"],
        ["2nd", " 8:24 am", " 9:00 am", "0:36", "0:08"],
        ["3rd", " 9:08 am", " 9:45 am", "0:37", "0:15"],
        ["MASS","10:00 am", "11:15 am", "1:15", "0:15"],
        ["4th", "11:30 am", "12:06 pm", "0:36", "0:08"],
        ["5th", "12:14 pm", "12:50 pm", "0:36", "0:08"],
        ["6th", "12:58 pm", " 1:34 pm", "0:36", "0:08"],
        ["7th", " 1:42 pm", " 2:17 pm", "0:35", "0:08"],
        ["8th", " 2:25 pm", " 3:00 pm", "0:35", "0:01"],
        ["9th", " 3:01 pm", " 3:30 pm", "0:29", " "]],
    "btn-allMassWed" : [
        ["Period","Start","End","Duration","Passing"],
        ["1st", " 7:40 am", " 8:17 am", "0:37", "0:08"],
        ["2nd", " 8:25 am", " 9:02 am", "0:37", "0:08"],
        ["3rd", " 9:10 am", " 9:45 am", "0:35", "0:15"],
        ["MASS", "10:00 am", "11:15 am", "1:15", "0:13"],
        ["4th", "11:28 am", "11:58 am", "0:30", "0:08"],
        ["5th", "12:06 pm", "12:36 pm", "0:30", "0:08"],
        ["6th", "12:44 pm", " 1:14 pm", "0:30", "0:08"],
        ["7th", " 1:22 pm", " 1:47 pm", "0:25", "0:08"],
        ["8th", " 1:55 pm", " 2:20 pm", "0:25", " "]],
    "btn-bless" : [
        ["Period","Start","End","Duration","Passing"],
        ["1st", " 7:40 am", " 8:27 am", "0:47", "0:18"],
        ["Bless", " 8:45 am", " 9:15 am", "0:30", "0:15"],
        ["2nd", "09:30 am", "10:11 am", "0:41", "0:08"],
        ["3rd", "10:19 am", "11:00 am", "0:40", "0:08"],
        ["4th", "11:08 am", "11:48 am", "0:40", "0:08"],
        ["5th", "11:56 am", "12:36 pm", "0:40", "0:08"],
        ["6th", "12:44 pm", " 1:24 pm", "0:40", "0:08"],
        ["7th", " 1:32 pm", " 2:12 pm", "0:40", "0:08"],
        ["8th", " 2:20 pm", " 3:00 pm", "0:40", "0:01"],
        ["9th", " 3:01 pm", " 3:38 pm", "0:40", " "]],
    "btn-blessWed" : [
        ["Period","Start","End","Duration","Passing"],
        ["1st", " 7:40 am", " 8:15 am", "0:35", "0:15"],
        ["Bless", " 8:30 am", " 9:00 am", "0:30", "0:15"],
        ["2nd", " 9:15 am", " 9:52 am", "0:37", "0:08"],
        ["3rd", "10:00 am", "10:37 am", "0:37", "0:08"],
        ["4th", "10:45 am", "11:22 am", "0:37", "0:08"],
        ["5th", "11:30 am", "12:07 pm", "0:37", "0:08"],
        ["6th", "12:15 pm", "12:52 pm", "0:37", "0:08"],
        ["7th", " 1:00 pm", " 1:37 pm", "0:37", "0:08"],
        ["8th", " 1:45 pm", " 2:22 pm", "0:37", " "]],
    "btn-noon" : [
        ["Period","Start","End","Duration","Passing"],
        ["1st", " 7:40 am", " 8:05 am", "0:25", "0:08"],
        ["2nd", " 8:13 am", " 8:38 am", "0:25", "0:08"],
        ["3rd", " 8:46 am", " 9:11 am", "0:25", "0:08"],
        ["4th", " 9:19 am", " 9:45 am", "0:26", "0:08"],
        ["5th", " 9:53 am", "10:19 am", "0:26", "0:08"],
        ["6th", "10:27 am", "10:53 am", "0:26", "0:08"],
        ["7th", "11:01 am", "11:26 am", "0:25", "0:08"],
        ["8th", "11:34 am", "12:00 pm", "0:26", " "]],
    "btn-assembly" : [
        ["Period","Start","End","Duration","Passing"],
        ["1st", " 7:40 am", " 8:27 am", "0:47", "0:13"],
        ["Assembly", " 8:40 am", " 9:25 am", "0:45", "0:13"],
        ["2nd", " 9:38 am", "10:16 am", "0:38", "0:08"],
        ["3rd", "10:24 am", "11:02 am", "0:38", "0:08"],
        ["4th", "11:10 am", "11:48 am", "0:38", "0:08"],
        ["5th", "11:56 am", "12:34 pm", "0:38", "0:08"],
        ["6th", "12:42 pm", " 1:20 pm", "0:38", "0:08"],
        ["7th", " 1:28 pm", " 2:06 pm", "0:38", "0:08"],
        ["8th", " 2:14 pm", " 2:52 pm", "0:38", "0:01"],
        ["9th", " 2:53 pm", " 3:30 pm", "0:38", " "]],
    "btn-pep" : [
        ["Period","Start","End","Duration","Passing"],
        ["1st", " 7:40 am", " 8:21 am", "0:41", "0:08"],
        ["2nd", " 8:29 am", " 9:10 am", "0:41", "0:08"],
        ["3rd", " 9:18 am", " 9:59 am", "0:41", "0:08"],
        ["7th", "10:07 am", "10:48 am", "0:41", "0:08"],
        ["4th", "10:56 am", "11:37 am", "0:41", "0:08"],
        ["5th", "11:45 am", "12:26 pm", "0:41", "0:08"],
        ["6th", "12:34 pm", " 1:15 pm", "0:41", "0:08"],
        ["8th", " 1:23 pm", " 2:04 pm", "0:41", "0:14"],
        ["Pep", " 2:18 pm", " 3:00 pm", "0:42", "0:01"],
        ["9th", " 3:01 pm", " 3:30 pm", "0:30", " "]],
    "btn-speaker" : [
        ["Period","Start","End","Duration","Passing"],
        ["1st", " 7:40 am", " 8:10 am", "0:30", "0:08"],
        ["2nd", " 8:18 am", " 8:48 am", "0:30", "0:17"],
        ["Speaker", " 9:05 am", "10:05 am", "1:00", "0:15"],
        ["3rd","10:20 am", "10:59 am", "0:39", "0:08"],
        ["4th", "11:07 am", "11:46 am", "0:39", "0:08"],
        ["5th", "11:54 am", "12:33 pm", "0:39", "0:08"],
        ["6th", "12:41 pm", " 1:20 pm", "0:39", "0:08"],
        ["7th", " 1:28 pm", " 2:06 pm", "0:38", "0:08"],
        ["8th", " 2:14 pm", " 2:52 pm", "0:38", " "],
        ["9th", " 2:52 pm", " 3:30 pm", "0:38", " "]],
    "btn-speakerWed" : [
        ["Period","Start","End","Duration","Passing"],
        ["1st", " 7:40 am", " 8:10 am", "0:30", "0:08"],
        ["2nd", " 8:18 am", " 8:48 am", "0:30", "0:17"],
        ["Speaker", " 9:05 am", "10:05 am", "1:00", "0:15"],
        ["3rd", "10:20 am", "10:54 am", "0:34", "0:08"],
        ["4th", "11:02 am", "11:36 am", "0:34", "0:08"],
        ["5th", "11:44 am", "12:18 pm", "0:34", "0:08"],
        ["6th", "12:26 pm", " 1:00 pm", "0:34", "0:08"],
        ["7th", " 1:08 pm", " 1:41 pm", "0:33", "0:08"],
        ["8th", " 1:45 pm", " 2:22 pm", "0:33", " "]],
    "btn-Exams" : [
        ["Period","Start","End","Duration","Passing"],        
        ["Arrive", " 7:30 am", " 7:55 am", "0:15", "0:05"],
        ["Exam 1", " 8:00 am", " 9:30 am", "1:30", "0:30"],
        ["Exam 2", "10:00 am", "11:30 am", "1:30", "0:01"],
        ["Dismiss", "11:31 am", " 3:30 pm", "4:00", "0:00"]],
    "btn-custom1" : [
        ["Period","Start","End","Duration","Passing"],        
        ["1st", " 6:00 pm", " 6:08 pm", "0:08", "0:10"],
        ["2nd", " 6:18 pm", " 6:26 pm", "0:08", "0:10"],
        ["3rd", " 6:36 pm", " 6:44 pm", "0:08", "0:10"],
        ["4th", " 6:54 pm", " 7:02 pm", "0:08", "0:10"],
        ["5th", " 7:12 pm", " 7:20 pm", "0:08", "0:10"],
        ["6th", " 7:30 pm", " 7:38 pm", "0:08", "0:10"],
        ["7th", " 7:48 pm", " 7:56 pm", "0:08", "0:10"],
        ["8th", " 8:06 pm", " 8:14 pm", "0:08", ""]],
    "btn-Cal" : [
        ["Date","Day","Event"],
        ["2024-2025", "BMCHS", "<a href='https://bishopmoore.gofmx.com/calendar' target='_blank'>FMX Calendar</a>"],
        ["09/23/2025", "Tuesday", "Lunch n'Learn - Ed Tech Macbook Tips and Tricks or AI Tools for Teachers"],
        ["09/24/2025", "Wednesday", "9th hour - Common-Course PLC"],
        ["09/25/2025", "Thursday", "Junior Retreat (Day 1)<br>Sophomore Parent Night"],
        ["09/26/2025", "Friday", "Junior Retreat (Day 2)"],
        ["10/01/2025", "Wednesday", "Herf Jones Assembly Seniors (2nd), Juniors (3rd)<br>9th hour - Faculty Meeting"],
        ["10/02/2025", "Thursday", "Faculty and Staff Yearbook Picture Retake Day (Dome at Lunch)"],
        ["10/04/2025 - 10/11/2025", "Saturday - Saturday", "Fall Mission Trip to the Dominican Republic (25 Seniors)"],
        ["10/07/2025", "Tuesday", "PSAT 10th Grade Testing<br>Lunch n'Learn - Instructional Strategies"],
        ["10/08/2025", "Wednesday", "PSAT 10th Grade Testing<br>9th hour - Individual PD<br>STEM Night"],
        ["10/09/2025", "Thursday", "PSAT 9th Grade Testing"],
        ["10/10/2025", "Friday", "PSAT 9th Grade Testing<br>End of Q1"],
        ["10/13/2025", "Monday", "NO SCHOOL - Teacher Work Day"],
        ["10/14/2025", "Tuesday", "All School Mass (10am - 11am)"],
        ["10/15/2025", "Wednesday", "PSAT 11th Grade Testing<br>9th hour - Common-Course PLC<br>STEM Night"],
        ["10/16/2025", "Thursday", "PSAT 11th Grade Testing"],
        ["10/17/2025", "Friday", "PSAT ??th Grade Testing"],
        ["10/20/2025", "Monday", "Dept Chair Meeting"],
        ["10/22/2025", "Wednesday", "9th hour - Department PLC"],
        ["10/24/2025", "Friday", "Homecoming Pep Rally"],
        ["10/25/2025", "Saturday", "Homecoming Dance"],
        ["10/27/2025", "Monday", "Fire Education Video (3rd Period - 4 minutes)"],
        ["10/29/2025", "Wednesday", "9th hour - New Teacher PLC / Faithfit Bookclub / Individual PD"],
        ["10/30/2025", "Thursday", "Lunch n'Learn - Ed Tech"],
        ["10/31/2025", "Friday", "Sophomore Retreat (Day 1)"],
        ["11/02/2025", "Sunday", "Open House"],
        ["11/03/2025", "Monday", "Sophomore Retreat (Day 2)"],
        ["11/05/2025", "Wednesday", "9th hour - Faculty Meeting"],
        ["11/11/2025", "Tuesday", "All School Mass (10am - 11am)"],
        ["11/12/2025", "Wednesday", "9th hour - New Teacher PLC / Individual PD"],
        ["11/13/2025", "Thursday", "Lunch n'Learn - TBD"],
        ["11/14/2025", "Friday", "Progress Reports Q2"],
        ["11/17/2025", "Monday", "Dept Chair Meeting"],
        ["11/11/2025", "Tuesday", "Fire Drill During Lunch"],
        ["11/19/2025", "Wednesday", "Semester 1 Exams due to Dept Chair<br>9th hour - Department PLC"],
        ["11/21/2025", "Friday", "TGI Due in Rediker"],
        ["11/24/2025 - 11/28/2024", "Monday - Friday", "NO SCHOOL (Thanksgiving Break)"],
        ["12/03/2025", "Wednesday", "9th hour - Faculty Meeting"],
        ["12/05/2025", "Friday", "Email to parents of students with D/F grades"],
        ["12/08/2025", "Monday", "All School Mass (10am - 11am)"],
        ["12/10/2025", "Wednesday", "ASP Exams Due to Testing Center<br>9th hour - Individual PD"],
        ["12/12/2025", "Friday", "End of Quarter 2"],
        ["12/16/2025", "Tuesday", "Semester Exams:<br>Period 1: 8:00am - 9:30am<br>Period 2: 10:00am - 11:30am"],
        ["12/17/2025", "Wednesday", "Semester Exams:<br>Period 3: 8:00am - 9:30am<br>Period 4: 10:00am - 11:30am"],
        ["12/18/2025", "Thursday", "Semester Exams:<br>Period 7: 8:00am - 9:30am<br>Period 5: 10:00am - 11:30am"],
        ["12/19/2025", "Friday", "Semester Exams:<br>Period 8: 8:00am - 9:30am<br>Period 6: 10:00am - 11:30am<br>End of Semester 1"],
        ["12/22/2025 - 01/02/2026", "Monday - Friday", "NO SCHOOL (Christmas Break)"],
        ["01/05/2026", "Monday", "Start of 2nd Semester<br>New Year Blessing"],
        ["04/30/2026", "Thursday", "AP Computer Science Principles students to submit their Create performance task as final by 11:59pm"],
        ["05/04/2026", "Monday", "AP Testing<br>8am - Biology / Latin<br>12pm - European History / Microeconomics"],
        ["05/05/2026", "Tuesday", "AP Testing<br>8am - Chemistry / Human Geography<br>12pm - United States Government and Politics"],
        ["05/06/2026", "Wednesday", "AP Testing<br>8am - English Literature and Composition<br>12pm - Comparative Government and Politics / Physics 1 Algebra-Based"],
        ["05/07/2026", "Thursday", "AP Testing<br>8am - Physics 2: Algebra-Based / World History: Modern<br>12pm - Statistics / African American Studies"],
        ["05/08/2026", "Friday", "AP Testing<br>8am - United States History / Italian Language and Culture<br>12pm - Macroeconomics / Chinese Language and Culture"],
        ["05/08/2026", "Friday", "Deadline for AP Art and Design students to submit their three portfolio components 8pm EST"],
        ["05/11/2026", "Monday", "AP Testing<br>8am - Calculus AB / Calculus BC<br>12pm - Music Theory"],
        ["05/12/2026", "Tuesday", "AP Testing<br>8am - French Language and Culture / Precalculus<br>12pm - Psychology"],
        ["05/13/2026", "Wednesday", "AP Testing<br>8am - English Language and Composition<br>12pm - Physics C: Mechanics / Spanish Literature and Culture"],
        ["05/14/2026", "Thursday", "AP Testing<br>8am - Art History / Spanish Language and Culture<br>12pm - Computer Science Principles / Physics C: Electricity and Magnetism"],
        ["05/15/2026", "Friday", "AP Testing<br>8am - Environmental Science<br>12pm - Computer Science A"],
        ["**********", "*****", "*********************************"],
        ["**********", "*****", "**********OLDER EVENTS***********"],
        ["**********", "*****", "*********************************"],
        ["07/30/2025", "Wednesday", "New Teacher Orientation (Student Center 7:30am - 3:30pm)"],
        ["07/31/2025", "Thursday", "New Teacher Orientation (Student Center 7:30am - 3:30pm)"],
        ["08/01/2025", "Friday", "Teacher Pre-Planning Day 1<br>Transfer Student Orientation (Dome 7:30am - 1pm)"],
        ["08/04/2025", "Monday", "Teacher Pre-Planning Day 2"],
        ["08/05/2025", "Tuesday", "Staff Retreat"],
        ["08/06/2025", "Wednesday", "Diocesan Kick Off Day for New School Year"],
        ["08/07/2025", "Thursday", "Freshman Orientation Day"],
        ["08/08/2025", "Friday", "Teacher Pre-Planning Day 3<br>Faculty and Staff Yearbook Picture Day (Pines 7:30am - 10:30am)<br>CPR Training (8:30am - 2:30pm)"],
        ["08/11/2025", "Monday", "FIRST DAY OF SCHOOL 2025-2026<br>Back to School Blessing (8:45am - 9:15am) <a href='https://docs.google.com/spreadsheets/d/1pZldyJCgGSQhzlg31snwTEoO8U8E8nYV7fnePuMLbqo/edit?gid=700752536#gid=700752536'>Seating Chart</a>"],
        ["08/13/2025", "Wednesday", "9th hour - Faculty Meeting"],
        ["08/14/2025", "Thursday", "Yearbook Picture Day - Freshman, Sophomore, Junior"],
        ["08/15/2025", "Friday", "All School Mass (10am - 11am) <a href='https://docs.google.com/spreadsheets/d/1U8yRWXlBcS17uDNW3NEOwu9mjgZSxZcog_szhU4kmTY/edit?gid=171656829#gid=171656829'>Seating Chart</a><br>Back-to-School Slides due to evaluator<br>New Teacher Check-in Meeting (Optional)"],
        ["08/18/2025", "Monday", "Dept Chair Meeting"],
        ["08/20/2025", "Wednesday", "Fire Drill: <a href='https://docs.google.com/spreadsheets/d/1s_k__cjW58Oxgj6wjTB9dAeJeAruWP8B65aJ6Ly10SQ/edit?gid=0#gid=0'>Teacher Lineup</a><br>1st Period: BD, Dome, MC<br>2nd Period: BB, BG, Cafe<br>3rd Period: LO,MM,Gym<br>9th hour - Department Meeting"],
        ["08/21/2025", "Thursday", "Back to School Night 6:00 pm<a href='https://docs.google.com/document/d/1qnAOc2n82QBf70cUSdDY49EjInxZihIAX98tTo00iig/edit?usp=sharing'>Schedule</a>"],
        ["08/25/2025", "Monday", "Lockdown Drill / Lockout Drill (1st Period, using Raptor)"],
        ["08/26/2025", "Tuesday", "Weather Hold Drill<br>Lunch n'Learn: Formative Assesments"],
        ["08/27/2025", "Wednesday", "9th hour - New Teacher PLC / Faithfit Bookclub / Individual PD"],
        ["08/28/2025", "Thursday", "Freshman Retreat (Day 1)"],
        ["08/29/2025", "Friday", "Freshman Retreat (Day 2)"],
        ["09/01/2025", "Monday", "NO SCHOOL - Labor Day"],
        ["09/02/2025", "Tuesday", "Cutoff for textbook purchases. eTextbook assignments can be given"],
        ["09/03/2025", "Wednesday", "9th hour - Faculty Meeting"],
        ["09/04/2025", "Thursday", "Freshman Parent Night MC-6:30pm"],
        ["09/05/2025", "Friday", "Email to parents for students with D/F grade"],
        ["09/09/2025", "Tuesday", "Lunch n'Learn - Incorporating Catholic Identity in the classroom"],
        ["09/10/2025", "Wednesday", "9th hour - New Teacher PLC / Individual PD"],
        ["09/11/2025", "Thursday", "All School Mass (10am - 11am)<br>Senior Picture Retakes"],
        ["09/12/2025", "Friday", "Progress Reports Q1"],
        ["09/15/2025", "Monday", "Dept Chair Meeting"],
        ["09/17/2025", "Wednesday", "9th hour - Department PLC"],
        ["09/18/2025", "Thursday", "Junior Parent Night MC-6:30pm"],
    ]                
}

// Global State Variable to know if Calendar is being shown
//     Need to disable period highlighting
currentButton = "";

// Respond to topnav menu button clicked 
function navClick(btnClicked) {
    // Change active button to button clicked
    activeButtons = document.getElementsByClassName("active");
    activeButtons[0].classList.remove("active"); //Only 1 item should be returned
    document.getElementById(btnClicked).classList.add("active");
    
    // Build table corresponding to button id clicked
    currentButton = btnClicked;
    buildTable(data[btnClicked]);
    updateScreen();
    setInterval(updateScreen, 1000);
}

// Generic build table from data array
function buildTable(tableArr) {
    // Remove existing schedule
    schedule = document.getElementById("schedule");
    schedule.innerHTML = "";
    const [headings, ...rows] = tableArr;
    tableString = '<table id="schedTable"><thead>';
    for (let header of headings) {
        tableString += "<th>" + header + "</th>";
    }
    tableString += "</thead><tbody>"

    for (let aRow of rows) {
        tableString += "<tr>";
        for (let cell of aRow) {
            tableString += "<td>" + cell + "</td>";
        }
        tableString += "</tr>";
    }
    tableString += "</tbody></table>";
    schedule.innerHTML = tableString;
}

// Helper function for updateScreen()
function getDate(timeStr) {
    timeStr = timeStr.trim();
    let now = new Date();
    let hr = parseInt(timeStr.split(":")[0]);
    let mi = parseInt((timeStr.split(":")[1]).split(" ")[0]);
    let meridiem = timeStr.split(" ")[1];
    if (meridiem == "pm" && hr < 12) {
        hr = hr + 12;
    } 
    now.setHours(hr, mi, 0, 0);
    return now;
}

// Updates Screen every second for clock and highlighting the period
function updateScreen() {
    // Get current time - need seconds
    let now = new Date();

    // Update Clock
    const timeDiv = document.getElementById("time");
    const dateString = now.toLocaleString('en-US');
    timeDiv.innerHTML = "<h2>" + dateString + "</h2>";

    if (currentButton == "btn-Cal")
        return;
        
    // Get table to highlight current period
    let table = document.getElementById("schedTable");

    // Clear prior highlighted period
    for (const e of document.getElementsByClassName("highlighted")) {
        e.classList.remove('highlighted');
     }

    // Highlight Current Period
    for (var r = 1, n = table.rows.length; r < n; r++) {
        let startStr = table.rows[r].cells[1].innerHTML;
        let startTime = getDate(startStr)
        let endStr = table.rows[r].cells[2].innerHTML;
        let endTime = getDate(endStr);
        // console.log(startTime, now, endTime);
        if (startTime <= now && now <= endTime) {
            // console.log("Row:", r);
            table.rows[r].cells[0].classList.add('highlighted');
            table.rows[r].cells[1].classList.add('highlighted');
            table.rows[r].cells[2].classList.add('highlighted');
            table.rows[r].cells[3].classList.add('highlighted');
            table.rows[r].cells[4].classList.remove('highlighted');
        }
    }
    // Highlight if in passing between periods
    for (var r = 1, n = table.rows.length; r < n-1; r++) {
        let startStr = table.rows[r].cells[2].innerHTML;
        let startTime = getDate(startStr)
        let endStr = table.rows[r+1].cells[1].innerHTML;
        let endTime = getDate(endStr);
        // console.log(startTime, now, endTime);
        if (startTime <= now && now <= endTime) {
            // console.log("Row:", r);
            table.rows[r].cells[0].classList.remove('highlighted');
            table.rows[r].cells[1].classList.remove('highlighted');
            table.rows[r].cells[2].classList.remove('highlighted');
            table.rows[r].cells[3].classList.remove('highlighted');
            table.rows[r].cells[4].classList.add('highlighted');
        }
    }
}

// Determine default button on startup
let day = new Date();

if (day.toLocaleDateString('en-Us') == "8/11/2025")
    document.getElementById("btn-bless").click();
else if (day.toLocaleDateString('en-Us') == "8/15/2025")
    document.getElementById("btn-allMass").click();
else if (day.toLocaleDateString('en-Us') == "8/21/2025")
    document.getElementById("btn-custom1").click();
else if (day.toLocaleDateString('en-Us') == "8/22/2025")
    document.getElementById("btn-pep").click();
else if (day.toLocaleDateString('en-Us') == "9/11/2025")
    document.getElementById("btn-allMass").click();
else if (day.toLocaleDateString('en-Us') == "10/14/2025")
    document.getElementById("btn-allMass").click();
else if (day.toLocaleDateString('en-Us') == "10/24/2025")
    document.getElementById("btn-pep").click();
else if (day.toLocaleDateString('en-Us') == "11/11/2025")
    document.getElementById("btn-allMass").click();
else if (day.toLocaleDateString('en-Us') == "12/8/2025")
    document.getElementById("btn-allMass").click();
// Do not change below here. All custom bells should be above this line
else if (day.getDay() == 3)
    document.getElementById("btn-Wed").click();
else
    document.getElementById("btn-MF").click();













